<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Language.Ninja.Tutorial</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Language-Ninja-Tutorial.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Language-Ninja-Tutorial.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">language-ninja-0.0.1: A library for dealing with the Ninja build language.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Copyright 2017 Awake Security</td></tr><tr><th>License</th><td>Apache-2.0</td></tr><tr><th>Maintainer</th><td>opensource@awakesecurity.com</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Language.Ninja.Tutorial</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Introduction</a></li><li><a href="#g:2">Parsing</a></li><li><a href="#g:3">Abstract Syntax Tree</a></li><li><a href="#g:4">Compiling</a></li><li><a href="#g:5">Intermediate Representation</a></li><li><a href="#g:6">Printing</a></li><li><a href="#g:7">Conclusion</a></li><li><a href="#g:8">FAQ</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>FIXME: doc</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"></ul></div><div id="interface"><h1 id="g:1">Introduction</h1><div class="doc"><p>This library contains most of the utilities you would ever want for working
 with the <a href="https://ninja-build.org">Ninja</a> build language.</p><p>In general, when using <code>language-ninja</code>, you'll want the following imports:</p><pre>import qualified <a href="Language-Ninja-AST.html">Language.Ninja.AST</a>        as AST
import qualified <a href="Language-Ninja-IR.html">Language.Ninja.IR</a>         as IR
import qualified <a href="Language-Ninja-Errors.html">Language.Ninja.Errors</a>     as Errors
import qualified <a href="Language-Ninja-Misc.html">Language.Ninja.Misc</a>       as Misc
import qualified <a href="Language-Ninja-Mock.html">Language.Ninja.Mock</a>       as Mock
import qualified <a href="Language-Ninja-Lexer.html">Language.Ninja.Lexer</a>      as Lexer
import qualified <a href="Language-Ninja-Parser.html">Language.Ninja.Parser</a>     as Parser
import qualified <a href="Language-Ninja-Pretty.html">Language.Ninja.Pretty</a>     as Pretty
import qualified <a href="Language-Ninja-Compile.html">Language.Ninja.Compile</a>    as Compile
</pre><p>For this tutorial, we will also use some other imports:</p><pre>import           <a href="file:///nix/store/gy3n3qr1l1bnz1dc232259l8102aikpp-lens-4.15.1/share/doc/x86_64-linux-ghc-8.0.2/lens-4.15.1/html/Control-Lens.html">Control.Lens</a>              (<code><a href="file:///nix/store/gy3n3qr1l1bnz1dc232259l8102aikpp-lens-4.15.1/share/doc/x86_64-linux-ghc-8.0.2/lens-4.15.1/html/Control-Lens-Type.html#t:Iso-39-">Iso'</a></code>, <code><a href="file:///nix/store/gy3n3qr1l1bnz1dc232259l8102aikpp-lens-4.15.1/share/doc/x86_64-linux-ghc-8.0.2/lens-4.15.1/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a></code>, <code><a href="file:///nix/store/gy3n3qr1l1bnz1dc232259l8102aikpp-lens-4.15.1/share/doc/x86_64-linux-ghc-8.0.2/lens-4.15.1/html/Control-Lens-Type.html#t:Prism-39-">Prism'</a></code>)
import qualified <a href="file:///nix/store/gy3n3qr1l1bnz1dc232259l8102aikpp-lens-4.15.1/share/doc/x86_64-linux-ghc-8.0.2/lens-4.15.1/html/Control-Lens.html">Control.Lens</a>              as Lens

import           <a href="file:///nix/store/lqs75pxlfp8lli7c8iz0mbw1pn08671q-mtl-2.2.1/share/doc/x86_64-linux-ghc-8.0.2/mtl-2.2.1/html/Control-Monad-Error-Class.html">Control.Monad.Error.Class</a> (<code><a href="file:///nix/store/lqs75pxlfp8lli7c8iz0mbw1pn08671q-mtl-2.2.1/share/doc/x86_64-linux-ghc-8.0.2/mtl-2.2.1/html/Control-Monad-Error-Class.html#t:MonadError">MonadError</a></code>)

import           <a href="file:///nix/store/da81a891bvnq4kpr5mgs5c73vixk4qzb-ghc-8.0.2-doc/share/doc/ghc/html/libraries/base-4.9.1.0/Data-Either.html">Data.Either</a>               (<code><a href="file:///nix/store/da81a891bvnq4kpr5mgs5c73vixk4qzb-ghc-8.0.2-doc/share/doc/ghc/html/libraries/base-4.9.1.0/Data-Either.html#v:either">either</a></code>)

import           <a href="file:///nix/store/psa1yq32l2ms0ssfdyzwkpnj73a0x37h-text-1.2.2.1/share/doc/x86_64-linux-ghc-8.0.2/text-1.2.2.1/html/Data-Text.html">Data.Text</a>                 (<code><a href="file:///nix/store/psa1yq32l2ms0ssfdyzwkpnj73a0x37h-text-1.2.2.1/share/doc/x86_64-linux-ghc-8.0.2/text-1.2.2.1/html/Data-Text.html#t:Text">Text</a></code>)
import qualified <a href="file:///nix/store/psa1yq32l2ms0ssfdyzwkpnj73a0x37h-text-1.2.2.1/share/doc/x86_64-linux-ghc-8.0.2/text-1.2.2.1/html/Data-Text.html">Data.Text</a>                 as Text

import           <a href="file:///nix/store/n5wmsvrkzfyyc09j5bsyfs01xvwf3xk5-unordered-containers-0.2.8.0/share/doc/x86_64-linux-ghc-8.0.2/unordered-containers-0.2.8.0/html/Data-HashSet.html">Data.HashSet</a>              (<code><a href="file:///nix/store/n5wmsvrkzfyyc09j5bsyfs01xvwf3xk5-unordered-containers-0.2.8.0/share/doc/x86_64-linux-ghc-8.0.2/unordered-containers-0.2.8.0/html/Data-HashSet.html#t:HashSet">HashSet</a></code>)
import qualified <a href="file:///nix/store/n5wmsvrkzfyyc09j5bsyfs01xvwf3xk5-unordered-containers-0.2.8.0/share/doc/x86_64-linux-ghc-8.0.2/unordered-containers-0.2.8.0/html/Data-HashSet.html">Data.HashSet</a>              as HS

import           <a href="file:///nix/store/n5wmsvrkzfyyc09j5bsyfs01xvwf3xk5-unordered-containers-0.2.8.0/share/doc/x86_64-linux-ghc-8.0.2/unordered-containers-0.2.8.0/html/Data-HashMap-Strict.html">Data.HashMap.Strict</a>       (<code><a href="file:///nix/store/n5wmsvrkzfyyc09j5bsyfs01xvwf3xk5-unordered-containers-0.2.8.0/share/doc/x86_64-linux-ghc-8.0.2/unordered-containers-0.2.8.0/html/Data-HashMap-Lazy.html#t:HashMap">HashMap</a></code>)
import qualified <a href="file:///nix/store/n5wmsvrkzfyyc09j5bsyfs01xvwf3xk5-unordered-containers-0.2.8.0/share/doc/x86_64-linux-ghc-8.0.2/unordered-containers-0.2.8.0/html/Data-HashMap-Strict.html">Data.HashMap.Strict</a>       as HM

import           <a href="file:///nix/store/vzljgmhn789nv624gndfda10zlc71xx9-versions-3.1.1/share/doc/x86_64-linux-ghc-8.0.2/versions-3.1.1/html/Data-Versions.html">Data.Versions</a>             (<code><a href="file:///nix/store/vzljgmhn789nv624gndfda10zlc71xx9-versions-3.1.1/share/doc/x86_64-linux-ghc-8.0.2/versions-3.1.1/html/Data-Versions.html#t:Version">Version</a></code>)
</pre></div><h1 id="g:2">Parsing</h1><div class="doc"><p>To parse a Ninja file, we use the <a href="Language-Ninja-Parse.html">Language.Ninja.Parse</a> module.
 In the simplest case, this amounts to parsing a file:</p><pre>ast &lt;- (Parser.<code><a href="Language-Ninja-Parser.html#v:parseFileIO">parseFileIO</a></code> &quot;./build.ninja&quot;) :: IO AST.<code><a href="Language-Ninja-AST-Ninja.html#t:Ninja">Ninja</a></code></pre><p>For more specialized use cases, consult the module documentation.</p><p>FIXME: update once we switch parsers</p></div><h1 id="g:3">Abstract Syntax Tree</h1><div class="doc"><p>Now that we have parsed the Ninja file, we can take a look at the AST:</p><pre>let look lens = Lens.<code><a href="file:///nix/store/gy3n3qr1l1bnz1dc232259l8102aikpp-lens-4.15.1/share/doc/x86_64-linux-ghc-8.0.2/lens-4.15.1/html/Control-Lens-Getter.html#v:view">view</a></code> lens ast
look AST.<code><a href="Language-Ninja-AST-Ninja.html#v:ninjaRules">ninjaRules</a></code>     :: <code><a href="file:///nix/store/n5wmsvrkzfyyc09j5bsyfs01xvwf3xk5-unordered-containers-0.2.8.0/share/doc/x86_64-linux-ghc-8.0.2/unordered-containers-0.2.8.0/html/Data-HashMap-Lazy.html#t:HashMap">HashMap</a></code> <code><a href="file:///nix/store/psa1yq32l2ms0ssfdyzwkpnj73a0x37h-text-1.2.2.1/share/doc/x86_64-linux-ghc-8.0.2/text-1.2.2.1/html/Data-Text.html#t:Text">Text</a></code> AST.<code><a href="Language-Ninja-AST-Rule.html#t:Rule">Rule</a></code>
look AST.<code><a href="Language-Ninja-AST-Ninja.html#v:ninjaSingles">ninjaSingles</a></code>   :: <code><a href="file:///nix/store/n5wmsvrkzfyyc09j5bsyfs01xvwf3xk5-unordered-containers-0.2.8.0/share/doc/x86_64-linux-ghc-8.0.2/unordered-containers-0.2.8.0/html/Data-HashMap-Lazy.html#t:HashMap">HashMap</a></code> <code><a href="file:///nix/store/psa1yq32l2ms0ssfdyzwkpnj73a0x37h-text-1.2.2.1/share/doc/x86_64-linux-ghc-8.0.2/text-1.2.2.1/html/Data-Text.html#t:Text">Text</a></code> AST.<code><a href="Language-Ninja-AST-Build.html#t:Build">Build</a></code>
look AST.<code><a href="Language-Ninja-AST-Ninja.html#v:ninjaMultiples">ninjaMultiples</a></code> :: <code><a href="file:///nix/store/n5wmsvrkzfyyc09j5bsyfs01xvwf3xk5-unordered-containers-0.2.8.0/share/doc/x86_64-linux-ghc-8.0.2/unordered-containers-0.2.8.0/html/Data-HashMap-Lazy.html#t:HashMap">HashMap</a></code> (<code><a href="file:///nix/store/n5wmsvrkzfyyc09j5bsyfs01xvwf3xk5-unordered-containers-0.2.8.0/share/doc/x86_64-linux-ghc-8.0.2/unordered-containers-0.2.8.0/html/Data-HashSet.html#t:HashSet">HashSet</a></code> <code><a href="file:///nix/store/psa1yq32l2ms0ssfdyzwkpnj73a0x37h-text-1.2.2.1/share/doc/x86_64-linux-ghc-8.0.2/text-1.2.2.1/html/Data-Text.html#t:Text">Text</a></code>) AST.<code><a href="Language-Ninja-AST-Build.html#t:Build">Build</a></code>
look AST.<code><a href="Language-Ninja-AST-Ninja.html#v:ninjaPhonys">ninjaPhonys</a></code>    :: <code><a href="file:///nix/store/n5wmsvrkzfyyc09j5bsyfs01xvwf3xk5-unordered-containers-0.2.8.0/share/doc/x86_64-linux-ghc-8.0.2/unordered-containers-0.2.8.0/html/Data-HashMap-Lazy.html#t:HashMap">HashMap</a></code> <code><a href="file:///nix/store/psa1yq32l2ms0ssfdyzwkpnj73a0x37h-text-1.2.2.1/share/doc/x86_64-linux-ghc-8.0.2/text-1.2.2.1/html/Data-Text.html#t:Text">Text</a></code> (<code><a href="file:///nix/store/n5wmsvrkzfyyc09j5bsyfs01xvwf3xk5-unordered-containers-0.2.8.0/share/doc/x86_64-linux-ghc-8.0.2/unordered-containers-0.2.8.0/html/Data-HashSet.html#t:HashSet">HashSet</a></code> <code><a href="file:///nix/store/psa1yq32l2ms0ssfdyzwkpnj73a0x37h-text-1.2.2.1/share/doc/x86_64-linux-ghc-8.0.2/text-1.2.2.1/html/Data-Text.html#t:Text">Text</a></code>)
look AST.<code><a href="Language-Ninja-AST-Ninja.html#v:ninjaDefaults">ninjaDefaults</a></code>  :: <code><a href="file:///nix/store/n5wmsvrkzfyyc09j5bsyfs01xvwf3xk5-unordered-containers-0.2.8.0/share/doc/x86_64-linux-ghc-8.0.2/unordered-containers-0.2.8.0/html/Data-HashSet.html#t:HashSet">HashSet</a></code> <code><a href="file:///nix/store/psa1yq32l2ms0ssfdyzwkpnj73a0x37h-text-1.2.2.1/share/doc/x86_64-linux-ghc-8.0.2/text-1.2.2.1/html/Data-Text.html#t:Text">Text</a></code>
look AST.<code><a href="Language-Ninja-AST-Ninja.html#v:ninjaPools">ninjaPools</a></code>     :: <code><a href="file:///nix/store/n5wmsvrkzfyyc09j5bsyfs01xvwf3xk5-unordered-containers-0.2.8.0/share/doc/x86_64-linux-ghc-8.0.2/unordered-containers-0.2.8.0/html/Data-HashMap-Lazy.html#t:HashMap">HashMap</a></code> <code><a href="file:///nix/store/psa1yq32l2ms0ssfdyzwkpnj73a0x37h-text-1.2.2.1/share/doc/x86_64-linux-ghc-8.0.2/text-1.2.2.1/html/Data-Text.html#t:Text">Text</a></code> <code><a href="file:///nix/store/da81a891bvnq4kpr5mgs5c73vixk4qzb-ghc-8.0.2-doc/share/doc/ghc/html/libraries/base-4.9.1.0/Data-Int.html#t:Int">Int</a></code>
look AST.<code><a href="Language-Ninja-AST-Ninja.html#v:ninjaSpecials">ninjaSpecials</a></code>  :: <code><a href="file:///nix/store/n5wmsvrkzfyyc09j5bsyfs01xvwf3xk5-unordered-containers-0.2.8.0/share/doc/x86_64-linux-ghc-8.0.2/unordered-containers-0.2.8.0/html/Data-HashMap-Lazy.html#t:HashMap">HashMap</a></code> <code><a href="file:///nix/store/psa1yq32l2ms0ssfdyzwkpnj73a0x37h-text-1.2.2.1/share/doc/x86_64-linux-ghc-8.0.2/text-1.2.2.1/html/Data-Text.html#t:Text">Text</a></code> <code><a href="file:///nix/store/psa1yq32l2ms0ssfdyzwkpnj73a0x37h-text-1.2.2.1/share/doc/x86_64-linux-ghc-8.0.2/text-1.2.2.1/html/Data-Text.html#t:Text">Text</a></code>
</pre><dl><dt><code>AST.<code><a href="Language-Ninja-AST-Ninja.html#v:ninjaRules">ninjaRules</a></code></code></dt><dd>This field corresponds to the <code>rule</code> declarations in the parsed Ninja file.
   Specifically, it is a map from rule names (as <code><a href="file:///nix/store/psa1yq32l2ms0ssfdyzwkpnj73a0x37h-text-1.2.2.1/share/doc/x86_64-linux-ghc-8.0.2/text-1.2.2.1/html/Data-Text.html#t:Text">Text</a></code>) to <code>AST.<code><a href="Language-Ninja-AST-Rule.html#t:Rule">Rule</a></code></code>s.</dd><dt><code>AST.<code><a href="Language-Ninja-AST-Ninja.html#v:ninjaSingles">ninjaSingles</a></code></code></dt><dd>This field contains the set of all non-phony <code>build</code> declarations with
   exactly one output. Specifically, it is a map from the build output name
   to an <code>AST.<code><a href="Language-Ninja-AST-Build.html#t:Build">Build</a></code></code>.</dd><dt><code>AST.<code><a href="Language-Ninja-AST-Ninja.html#v:ninjaMultiples">ninjaMultiples</a></code></code></dt><dd>This field contains the set of all non-phony <code>build</code> declarations with
   two or more outputs. Specifically, it is a map from the set of outputs to
   the corresponding <code>AST.<code><a href="Language-Ninja-AST-Build.html#t:Build">Build</a></code></code>.</dd><dt><code>AST.<code><a href="Language-Ninja-AST-Ninja.html#v:ninjaPhonys">ninjaPhonys</a></code></code></dt><dd>This field contains the set of all phony <code>build</code> declarations, as a map
   from the output name to the set of dependencies. If a phony <code>build</code> has
   multiple outputs, it will naturally be expanded to multiple entries in
   this hash map.</dd><dt><code>AST.<code><a href="Language-Ninja-AST-Ninja.html#v:ninjaDefaults">ninjaDefaults</a></code></code></dt><dd>This field contains the set of all targets referenced in <code>default</code>
   declarations.</dd><dt><code>AST.<code><a href="Language-Ninja-AST-Ninja.html#v:ninjaPools">ninjaPools</a></code></code></dt><dd>This field contains the set of all pools defined in the Ninja file,
   represented as a mapping from the pool name to the pool depth.</dd><dt><code>AST.<code><a href="Language-Ninja-AST-Ninja.html#v:ninjaSpecials">ninjaSpecials</a></code></code></dt><dd>This field contains the set of all &quot;special&quot; top-level variables defined
   in the Ninja file, as a mapping from the variable name to the variable
   value. As it stands, this map will only ever have at most two keys:
   <code>ninja_required_version</code> and <code>builddir</code>. For more on these variables, look
   at the manual <a href="https://ninja-build.org/manual.html#ref_toplevel">here</a>.</dd></dl><h2><code>AST.<code><a href="Language-Ninja-AST-Rule.html#t:Rule">Rule</a></code></code></h2><p>A value of type <code>AST.<code><a href="Language-Ninja-AST-Rule.html#t:Rule">Rule</a></code></code> is essentially the set of variables that
 are bound in a <code>rule</code> body, represented as a map from the variable (<code><a href="file:///nix/store/psa1yq32l2ms0ssfdyzwkpnj73a0x37h-text-1.2.2.1/share/doc/x86_64-linux-ghc-8.0.2/text-1.2.2.1/html/Data-Text.html#t:Text">Text</a></code>)
 to its unevaluated definition (<code>AST.<code><a href="Language-Ninja-AST-Expr.html#t:Expr">Expr</a></code></code>). The underlying <code><a href="file:///nix/store/n5wmsvrkzfyyc09j5bsyfs01xvwf3xk5-unordered-containers-0.2.8.0/share/doc/x86_64-linux-ghc-8.0.2/unordered-containers-0.2.8.0/html/Data-HashMap-Lazy.html#t:HashMap">HashMap</a></code>
 can be extracted with <code>AST.<code><a href="Language-Ninja-AST-Rule.html#v:ruleBind">ruleBind</a></code></code>.</p><h2><code>AST.<code><a href="Language-Ninja-AST-Build.html#t:Build">Build</a></code></code></h2><p>A value of type <code>AST.<code><a href="Language-Ninja-AST-Build.html#t:Build">Build</a></code></code> contains four pieces of information:</p><dl><dt><code>AST.<code><a href="Language-Ninja-AST-Build.html#v:buildRule">buildRule</a></code> :: <code><a href="file:///nix/store/gy3n3qr1l1bnz1dc232259l8102aikpp-lens-4.15.1/share/doc/x86_64-linux-ghc-8.0.2/lens-4.15.1/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a></code> AST.<code><a href="Language-Ninja-AST-Build.html#t:Build">Build</a></code> <code><a href="file:///nix/store/psa1yq32l2ms0ssfdyzwkpnj73a0x37h-text-1.2.2.1/share/doc/x86_64-linux-ghc-8.0.2/text-1.2.2.1/html/Data-Text.html#t:Text">Text</a></code></code></dt><dd>The name of the <code>rule</code> associated with this <code>build</code> declaration.</dd><dt><code>AST.<code><a href="Language-Ninja-AST-Build.html#v:buildDeps">buildDeps</a></code> :: <code><a href="file:///nix/store/gy3n3qr1l1bnz1dc232259l8102aikpp-lens-4.15.1/share/doc/x86_64-linux-ghc-8.0.2/lens-4.15.1/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a></code> AST.<code><a href="Language-Ninja-AST-Build.html#t:Build">Build</a></code> AST.<code><a href="Language-Ninja-AST-Deps.html#t:Deps">Deps</a></code></code></dt><dd>The set of dependencies for this <code>build</code> declaration.</dd><dt><code>AST.<code><a href="Language-Ninja-AST-Build.html#v:buildEnv">buildEnv</a></code> :: <code><a href="file:///nix/store/gy3n3qr1l1bnz1dc232259l8102aikpp-lens-4.15.1/share/doc/x86_64-linux-ghc-8.0.2/lens-4.15.1/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a></code> AST.<code><a href="Language-Ninja-AST-Build.html#t:Build">Build</a></code> (AST.<code><a href="Language-Ninja-AST-Env.html#t:Env">Env</a></code> <code><a href="file:///nix/store/psa1yq32l2ms0ssfdyzwkpnj73a0x37h-text-1.2.2.1/share/doc/x86_64-linux-ghc-8.0.2/text-1.2.2.1/html/Data-Text.html#t:Text">Text</a></code> <code><a href="file:///nix/store/psa1yq32l2ms0ssfdyzwkpnj73a0x37h-text-1.2.2.1/share/doc/x86_64-linux-ghc-8.0.2/text-1.2.2.1/html/Data-Text.html#t:Text">Text</a></code>)</code></dt><dd>The set of file-level variables in scope when the <code>build</code> declaration
   was parsed.</dd><dt><code>AST.<code><a href="Language-Ninja-AST-Build.html#v:buildBind">buildBind</a></code> :: <code><a href="file:///nix/store/gy3n3qr1l1bnz1dc232259l8102aikpp-lens-4.15.1/share/doc/x86_64-linux-ghc-8.0.2/lens-4.15.1/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a></code> AST.<code><a href="Language-Ninja-AST-Build.html#t:Build">Build</a></code> (<code><a href="file:///nix/store/n5wmsvrkzfyyc09j5bsyfs01xvwf3xk5-unordered-containers-0.2.8.0/share/doc/x86_64-linux-ghc-8.0.2/unordered-containers-0.2.8.0/html/Data-HashMap-Lazy.html#t:HashMap">HashMap</a></code> <code><a href="file:///nix/store/psa1yq32l2ms0ssfdyzwkpnj73a0x37h-text-1.2.2.1/share/doc/x86_64-linux-ghc-8.0.2/text-1.2.2.1/html/Data-Text.html#t:Text">Text</a></code> <code><a href="file:///nix/store/psa1yq32l2ms0ssfdyzwkpnj73a0x37h-text-1.2.2.1/share/doc/x86_64-linux-ghc-8.0.2/text-1.2.2.1/html/Data-Text.html#t:Text">Text</a></code>)</code></dt><dd>The set of bindings (indented <code>key = value</code> pairs) for this <code>build</code>
   declaration.</dd></dl><h2><code>AST.<code><a href="Language-Ninja-AST-Deps.html#t:Deps">Deps</a></code></code></h2><p>A value of type <code>AST.<code><a href="Language-Ninja-AST-Deps.html#t:Deps">Deps</a></code></code> contains three pieces of information:</p><dl><dt><code>AST.<code><a href="Language-Ninja-AST-Deps.html#v:depsNormal">depsNormal</a></code> :: <code><a href="file:///nix/store/gy3n3qr1l1bnz1dc232259l8102aikpp-lens-4.15.1/share/doc/x86_64-linux-ghc-8.0.2/lens-4.15.1/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a></code> AST.<code><a href="Language-Ninja-AST-Deps.html#t:Deps">Deps</a></code> (<code><a href="file:///nix/store/n5wmsvrkzfyyc09j5bsyfs01xvwf3xk5-unordered-containers-0.2.8.0/share/doc/x86_64-linux-ghc-8.0.2/unordered-containers-0.2.8.0/html/Data-HashSet.html#t:HashSet">HashSet</a></code> <code><a href="file:///nix/store/psa1yq32l2ms0ssfdyzwkpnj73a0x37h-text-1.2.2.1/share/doc/x86_64-linux-ghc-8.0.2/text-1.2.2.1/html/Data-Text.html#t:Text">Text</a></code>)</code></dt><dd>The set of &quot;normal&quot; (explicit) dependencies for a <code>build</code> declaration.</dd><dt><code>AST.<code><a href="Language-Ninja-AST-Deps.html#v:depsImplicit">depsImplicit</a></code> :: <code><a href="file:///nix/store/gy3n3qr1l1bnz1dc232259l8102aikpp-lens-4.15.1/share/doc/x86_64-linux-ghc-8.0.2/lens-4.15.1/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a></code> AST.<code><a href="Language-Ninja-AST-Deps.html#t:Deps">Deps</a></code> (<code><a href="file:///nix/store/n5wmsvrkzfyyc09j5bsyfs01xvwf3xk5-unordered-containers-0.2.8.0/share/doc/x86_64-linux-ghc-8.0.2/unordered-containers-0.2.8.0/html/Data-HashSet.html#t:HashSet">HashSet</a></code> <code><a href="file:///nix/store/psa1yq32l2ms0ssfdyzwkpnj73a0x37h-text-1.2.2.1/share/doc/x86_64-linux-ghc-8.0.2/text-1.2.2.1/html/Data-Text.html#t:Text">Text</a></code>)</code></dt><dd>The set of &quot;implicit&quot; dependencies for a <code>build</code> declaration.</dd><dt><code>AST.<code><a href="Language-Ninja-AST-Deps.html#v:depsOrderOnly">depsOrderOnly</a></code> :: <code><a href="file:///nix/store/gy3n3qr1l1bnz1dc232259l8102aikpp-lens-4.15.1/share/doc/x86_64-linux-ghc-8.0.2/lens-4.15.1/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a></code> AST.<code><a href="Language-Ninja-AST-Deps.html#t:Deps">Deps</a></code> (<code><a href="file:///nix/store/n5wmsvrkzfyyc09j5bsyfs01xvwf3xk5-unordered-containers-0.2.8.0/share/doc/x86_64-linux-ghc-8.0.2/unordered-containers-0.2.8.0/html/Data-HashSet.html#t:HashSet">HashSet</a></code> <code><a href="file:///nix/store/psa1yq32l2ms0ssfdyzwkpnj73a0x37h-text-1.2.2.1/share/doc/x86_64-linux-ghc-8.0.2/text-1.2.2.1/html/Data-Text.html#t:Text">Text</a></code>)</code></dt><dd>The set of &quot;order-only&quot; dependencies for a <code>build</code> declaration.</dd></dl><p><a href="https://ninja-build.org/manual.html#ref_dependencies">This</a> section of the
 Ninja manual describes in detail the differences between explicit, implicit,
 and order-only dependencies.</p></div><h1 id="g:4">Compiling</h1><div class="doc"><p>To compile a Ninja AST (<code>AST.<code><a href="Language-Ninja-AST-Ninja.html#t:Ninja">Ninja</a></code></code>) to the Ninja intermediate
 representation, we use <code>compile</code> from the <a href="Language-Ninja-Compile.html">Language.Ninja.Compile</a> module.
 In the simplest case, this looks like:</p><pre>let handleError :: Either Errors.<code><a href="Language-Ninja-Errors-Compile.html#t:CompileError">CompileError</a></code> a -&gt; IO a
    handleError = <code><a href="file:///nix/store/da81a891bvnq4kpr5mgs5c73vixk4qzb-ghc-8.0.2-doc/share/doc/ghc/html/libraries/base-4.9.1.0/Data-Either.html#v:either">either</a></code> (<code><a href="file:///nix/store/da81a891bvnq4kpr5mgs5c73vixk4qzb-ghc-8.0.2-doc/share/doc/ghc/html/libraries/base-4.9.1.0/Control-Monad.html#v:fail">fail</a></code> . <code><a href="file:///nix/store/da81a891bvnq4kpr5mgs5c73vixk4qzb-ghc-8.0.2-doc/share/doc/ghc/html/libraries/base-4.9.1.0/Text-Show.html#v:show">show</a></code>) <code><a href="file:///nix/store/da81a891bvnq4kpr5mgs5c73vixk4qzb-ghc-8.0.2-doc/share/doc/ghc/html/libraries/base-4.9.1.0/Control-Applicative.html#v:pure">pure</a></code>
ir &lt;- handleError (Compile.<code><a href="Language-Ninja-Compile.html#v:compile">compile</a></code> ast)
</pre><p>Since <code>Compile.<code><a href="Language-Ninja-Compile.html#v:compile">compile</a></code></code> returns in any monad with an instance
 of <code><code><a href="file:///nix/store/lqs75pxlfp8lli7c8iz0mbw1pn08671q-mtl-2.2.1/share/doc/x86_64-linux-ghc-8.0.2/mtl-2.2.1/html/Control-Monad-Error-Class.html#t:MonadError">MonadError</a></code> Errors.<code><a href="Language-Ninja-Errors-Compile.html#t:CompileError">CompileError</a></code></code>, it is quite flexible.</p><p>For simplicity in this case, however, we use
 <code>Either Errors.<code><a href="Language-Ninja-Errors-Compile.html#t:CompileError">CompileError</a></code> AST.<code><a href="Language-Ninja-AST-Ninja.html#t:Ninja">Ninja</a></code></code>
 and convert to <code>IO</code> by calling <code><a href="file:///nix/store/da81a891bvnq4kpr5mgs5c73vixk4qzb-ghc-8.0.2-doc/share/doc/ghc/html/libraries/base-4.9.1.0/Control-Monad.html#v:fail">fail</a></code> when it fails.</p></div><h1 id="g:5">Intermediate Representation</h1><div class="doc"><p>The <code>language-ninja</code> intermediate representation, as defined in the
 <a href="Language-Ninja-IR.html">Language.Ninja.IR</a> module, is a reduced form of the Ninja AST that handles
 as much of the static semantics of Ninja as possible.</p><p>The Ninja IR does not have any notion of variables/scoping, does not contain
 unrestricted hash maps or environments, and has the <code>rule</code> declarations
 inlined into the <code>build</code> nodes, thus eliminating the &quot;polymorphism&quot;
 associated with the <code>$in</code> and <code>$out</code> Ninja variables.</p><p>Since we have now compiled the Ninja AST, we can take a look at the IR:</p><pre>let look lens = Lens.<code><a href="file:///nix/store/gy3n3qr1l1bnz1dc232259l8102aikpp-lens-4.15.1/share/doc/x86_64-linux-ghc-8.0.2/lens-4.15.1/html/Control-Lens-Getter.html#v:view">view</a></code> lens ir
look IR.<code><a href="Language-Ninja-IR-Ninja.html#v:ninjaMeta">ninjaMeta</a></code>     :: IR.<code><a href="Language-Ninja-IR-Meta.html#t:Meta">Meta</a></code>
look IR.<code><a href="Language-Ninja-IR-Ninja.html#v:ninjaBuilds">ninjaBuilds</a></code>   :: <code><a href="file:///nix/store/n5wmsvrkzfyyc09j5bsyfs01xvwf3xk5-unordered-containers-0.2.8.0/share/doc/x86_64-linux-ghc-8.0.2/unordered-containers-0.2.8.0/html/Data-HashSet.html#t:HashSet">HashSet</a></code> IR.<code><a href="Language-Ninja-IR-Build.html#t:Build">Build</a></code>
look IR.<code><a href="Language-Ninja-IR-Ninja.html#v:ninjaPhonys">ninjaPhonys</a></code>   :: <code><a href="file:///nix/store/n5wmsvrkzfyyc09j5bsyfs01xvwf3xk5-unordered-containers-0.2.8.0/share/doc/x86_64-linux-ghc-8.0.2/unordered-containers-0.2.8.0/html/Data-HashMap-Lazy.html#t:HashMap">HashMap</a></code> IR.<code><a href="Language-Ninja-IR-Target.html#t:Target">Target</a></code> (<code><a href="file:///nix/store/n5wmsvrkzfyyc09j5bsyfs01xvwf3xk5-unordered-containers-0.2.8.0/share/doc/x86_64-linux-ghc-8.0.2/unordered-containers-0.2.8.0/html/Data-HashSet.html#t:HashSet">HashSet</a></code> IR.<code><a href="Language-Ninja-IR-Target.html#t:Target">Target</a></code>)
look IR.<code><a href="Language-Ninja-IR-Ninja.html#v:ninjaDefaults">ninjaDefaults</a></code> :: <code><a href="file:///nix/store/n5wmsvrkzfyyc09j5bsyfs01xvwf3xk5-unordered-containers-0.2.8.0/share/doc/x86_64-linux-ghc-8.0.2/unordered-containers-0.2.8.0/html/Data-HashSet.html#t:HashSet">HashSet</a></code> IR.<code><a href="Language-Ninja-IR-Target.html#t:Target">Target</a></code>
look IR.<code><a href="Language-Ninja-IR-Ninja.html#v:ninjaPools">ninjaPools</a></code>    :: <code><a href="file:///nix/store/n5wmsvrkzfyyc09j5bsyfs01xvwf3xk5-unordered-containers-0.2.8.0/share/doc/x86_64-linux-ghc-8.0.2/unordered-containers-0.2.8.0/html/Data-HashSet.html#t:HashSet">HashSet</a></code> IR.<code><a href="Language-Ninja-IR-Pool.html#t:Pool">Pool</a></code>
</pre><p>These fields correspond to more well-typed versions of their counterparts
 in the AST. The main differences to note are:</p><ol><li><code>AST.<code><a href="Language-Ninja-AST-Ninja.html#v:ninjaSpecials">ninjaSpecials</a></code></code> is used to compute <code>IR.<code><a href="Language-Ninja-IR-Ninja.html#v:ninjaMeta">ninjaMeta</a></code></code>.</li><li><code><a href="file:///nix/store/psa1yq32l2ms0ssfdyzwkpnj73a0x37h-text-1.2.2.1/share/doc/x86_64-linux-ghc-8.0.2/text-1.2.2.1/html/Data-Text.html#t:Text">Text</a></code> has mostly been replaced with <code>IR.<code><a href="Language-Ninja-IR-Target.html#t:Target">Target</a></code></code> where relevant.</li><li><code>AST.<code><a href="Language-Ninja-AST-Ninja.html#v:ninjaSingles">ninjaSingles</a></code></code> and <code>AST.<code><a href="Language-Ninja-AST-Ninja.html#v:ninjaMultiples">ninjaMultiples</a></code></code> have been merged
    into a single field: <code>IR.<code><a href="Language-Ninja-IR-Ninja.html#v:ninjaBuilds">ninjaBuilds</a></code></code>.</li><li><code>AST.<code><a href="Language-Ninja-AST-Ninja.html#v:ninjaRules">ninjaRules</a></code></code> is gone; the <code>rule</code>s are now inlined into the
    <code>build</code>s that use them.</li></ol><h2><code>IR.<code><a href="Language-Ninja-IR-Meta.html#t:Meta">Meta</a></code></code></h2><p>A value of type <code>IR.<code><a href="Language-Ninja-IR-Meta.html#t:Meta">Meta</a></code></code> contains two pieces of information:</p><dl><dt><code>IR.<code><a href="Language-Ninja-IR-Meta.html#v:metaReqVersion">metaReqVersion</a></code> :: <code><a href="file:///nix/store/gy3n3qr1l1bnz1dc232259l8102aikpp-lens-4.15.1/share/doc/x86_64-linux-ghc-8.0.2/lens-4.15.1/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a></code> IR.<code><a href="Language-Ninja-IR-Meta.html#t:Meta">Meta</a></code> (Maybe <code><a href="file:///nix/store/vzljgmhn789nv624gndfda10zlc71xx9-versions-3.1.1/share/doc/x86_64-linux-ghc-8.0.2/versions-3.1.1/html/Data-Versions.html#t:Version">Version</a></code>)</code></dt><dd>The parsed Ninja version required to build this file.
   This corresponds to the <code>ninja_required_version</code> top-level variable.</dd><dt><code>IR.<code><a href="Language-Ninja-IR-Meta.html#v:metaBuildDir">metaBuildDir</a></code> :: <code><a href="file:///nix/store/gy3n3qr1l1bnz1dc232259l8102aikpp-lens-4.15.1/share/doc/x86_64-linux-ghc-8.0.2/lens-4.15.1/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a></code> IR.<code><a href="Language-Ninja-IR-Meta.html#t:Meta">Meta</a></code> (Maybe Misc.<code><a href="Language-Ninja-Misc-Path.html#t:Path">Path</a></code>)</code></dt><dd>This corresponds to the <code>builddir</code> top-level variable.</dd></dl><h2><code>IR.<code><a href="Language-Ninja-IR-Build.html#t:Build">Build</a></code></code></h2><p>A value of type <code>IR.<code><a href="Language-Ninja-IR-Build.html#t:Build">Build</a></code></code> contains three pieces of information:</p><dl><dt><code>IR.<code><a href="Language-Ninja-IR-Build.html#v:buildRule">buildRule</a></code> :: <code><a href="file:///nix/store/gy3n3qr1l1bnz1dc232259l8102aikpp-lens-4.15.1/share/doc/x86_64-linux-ghc-8.0.2/lens-4.15.1/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a></code> IR.<code><a href="Language-Ninja-IR-Build.html#t:Build">Build</a></code> IR.<code><a href="Language-Ninja-IR-Rule.html#t:Rule">Rule</a></code></code></dt><dd>The <code>rule</code> associated with this <code>build</code> declaration.</dd><dt><code>IR.<code><a href="Language-Ninja-IR-Build.html#v:buildOuts">buildOuts</a></code> :: <code><a href="file:///nix/store/gy3n3qr1l1bnz1dc232259l8102aikpp-lens-4.15.1/share/doc/x86_64-linux-ghc-8.0.2/lens-4.15.1/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a></code> IR.<code><a href="Language-Ninja-IR-Build.html#t:Build">Build</a></code> (<code><a href="file:///nix/store/n5wmsvrkzfyyc09j5bsyfs01xvwf3xk5-unordered-containers-0.2.8.0/share/doc/x86_64-linux-ghc-8.0.2/unordered-containers-0.2.8.0/html/Data-HashSet.html#t:HashSet">HashSet</a></code> IR.<code><a href="Language-Ninja-IR-Target.html#t:Output">Output</a></code>)</code></dt><dd>The set of outputs for this <code>build</code> declaration.</dd><dt><code>IR.<code><a href="Language-Ninja-IR-Build.html#v:buildDeps">buildDeps</a></code> :: <code><a href="file:///nix/store/gy3n3qr1l1bnz1dc232259l8102aikpp-lens-4.15.1/share/doc/x86_64-linux-ghc-8.0.2/lens-4.15.1/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a></code> IR.<code><a href="Language-Ninja-IR-Build.html#t:Build">Build</a></code> (<code><a href="file:///nix/store/n5wmsvrkzfyyc09j5bsyfs01xvwf3xk5-unordered-containers-0.2.8.0/share/doc/x86_64-linux-ghc-8.0.2/unordered-containers-0.2.8.0/html/Data-HashSet.html#t:HashSet">HashSet</a></code> IR.<code><a href="Language-Ninja-IR-Target.html#t:Dependency">Dependency</a></code>)</code></dt><dd>The set of dependencies for this <code>build</code> declaration.</dd></dl><h2><code>IR.<code><a href="Language-Ninja-IR-Rule.html#t:Rule">Rule</a></code></code></h2><p>A value of type <code>IR.<code><a href="Language-Ninja-IR-Rule.html#t:Rule">Rule</a></code></code> contains a lot of information. For brevity,
 we will simply list the lens names and types; refer to the module
 documentation (<a href="Language-Ninja-IR-Rule.html">Language.Ninja.IR.Rule</a>) for more information.</p><pre>IR.<code><a href="Language-Ninja-IR-Rule.html#v:ruleName">ruleName</a></code>         :: <code><a href="file:///nix/store/gy3n3qr1l1bnz1dc232259l8102aikpp-lens-4.15.1/share/doc/x86_64-linux-ghc-8.0.2/lens-4.15.1/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a></code> IR.<code><a href="Language-Ninja-IR-Rule.html#t:Rule">Rule</a></code> <code><a href="file:///nix/store/psa1yq32l2ms0ssfdyzwkpnj73a0x37h-text-1.2.2.1/share/doc/x86_64-linux-ghc-8.0.2/text-1.2.2.1/html/Data-Text.html#t:Text">Text</a></code>
IR.<code><a href="Language-Ninja-IR-Rule.html#v:ruleCommand">ruleCommand</a></code>      :: <code><a href="file:///nix/store/gy3n3qr1l1bnz1dc232259l8102aikpp-lens-4.15.1/share/doc/x86_64-linux-ghc-8.0.2/lens-4.15.1/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a></code> IR.<code><a href="Language-Ninja-IR-Rule.html#t:Rule">Rule</a></code> Misc.<code><a href="Language-Ninja-Misc-Command.html#t:Command">Command</a></code>
IR.<code><a href="Language-Ninja-IR-Rule.html#v:ruleDescription">ruleDescription</a></code>  :: <code><a href="file:///nix/store/gy3n3qr1l1bnz1dc232259l8102aikpp-lens-4.15.1/share/doc/x86_64-linux-ghc-8.0.2/lens-4.15.1/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a></code> IR.<code><a href="Language-Ninja-IR-Rule.html#t:Rule">Rule</a></code> (Maybe <code><a href="file:///nix/store/psa1yq32l2ms0ssfdyzwkpnj73a0x37h-text-1.2.2.1/share/doc/x86_64-linux-ghc-8.0.2/text-1.2.2.1/html/Data-Text.html#t:Text">Text</a></code>)
IR.<code><a href="Language-Ninja-IR-Rule.html#v:rulePool">rulePool</a></code>         :: <code><a href="file:///nix/store/gy3n3qr1l1bnz1dc232259l8102aikpp-lens-4.15.1/share/doc/x86_64-linux-ghc-8.0.2/lens-4.15.1/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a></code> IR.<code><a href="Language-Ninja-IR-Rule.html#t:Rule">Rule</a></code> IR.<code><a href="Language-Ninja-IR-Pool.html#t:PoolName">PoolName</a></code>
IR.<code><a href="Language-Ninja-IR-Rule.html#v:ruleDepfile">ruleDepfile</a></code>      :: <code><a href="file:///nix/store/gy3n3qr1l1bnz1dc232259l8102aikpp-lens-4.15.1/share/doc/x86_64-linux-ghc-8.0.2/lens-4.15.1/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a></code> IR.<code><a href="Language-Ninja-IR-Rule.html#t:Rule">Rule</a></code> (Maybe Misc.<code><a href="Language-Ninja-Misc-Path.html#t:Path">Path</a></code>)
IR.<code><a href="Language-Ninja-IR-Rule.html#v:ruleSpecialDeps">ruleSpecialDeps</a></code>  :: <code><a href="file:///nix/store/gy3n3qr1l1bnz1dc232259l8102aikpp-lens-4.15.1/share/doc/x86_64-linux-ghc-8.0.2/lens-4.15.1/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a></code> IR.<code><a href="Language-Ninja-IR-Rule.html#t:Rule">Rule</a></code> (Maybe IR.<code><a href="Language-Ninja-IR-Rule.html#t:SpecialDeps">SpecialDeps</a></code>)
IR.<code><a href="Language-Ninja-IR-Rule.html#v:ruleGenerator">ruleGenerator</a></code>    :: <code><a href="file:///nix/store/gy3n3qr1l1bnz1dc232259l8102aikpp-lens-4.15.1/share/doc/x86_64-linux-ghc-8.0.2/lens-4.15.1/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a></code> IR.<code><a href="Language-Ninja-IR-Rule.html#t:Rule">Rule</a></code> Bool
IR.<code><a href="Language-Ninja-IR-Rule.html#v:ruleRestat">ruleRestat</a></code>       :: <code><a href="file:///nix/store/gy3n3qr1l1bnz1dc232259l8102aikpp-lens-4.15.1/share/doc/x86_64-linux-ghc-8.0.2/lens-4.15.1/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a></code> IR.<code><a href="Language-Ninja-IR-Rule.html#t:Rule">Rule</a></code> Bool
IR.<code><a href="Language-Ninja-IR-Rule.html#v:ruleResponseFile">ruleResponseFile</a></code> :: <code><a href="file:///nix/store/gy3n3qr1l1bnz1dc232259l8102aikpp-lens-4.15.1/share/doc/x86_64-linux-ghc-8.0.2/lens-4.15.1/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a></code> IR.<code><a href="Language-Ninja-IR-Rule.html#t:Rule">Rule</a></code> (Maybe IR.<code><a href="Language-Ninja-IR-Rule.html#t:ResponseFile">ResponseFile</a></code>)
</pre><h2><code>IR.<code><a href="Language-Ninja-IR-Pool.html#t:Pool">Pool</a></code></code></h2><p>A value of type <code>IR.<code><a href="Language-Ninja-IR-Pool.html#t:Pool">Pool</a></code></code> has a name (<code>IR.<code><a href="Language-Ninja-IR-Pool.html#v:poolName">poolName</a></code></code>) and a
 depth (<code>IR.<code><a href="Language-Ninja-IR-Pool.html#v:poolDepth">poolDepth</a></code></code>). This type is correct-by-construction; it should
 not be possible to construct a <code><code><a href="Language-Ninja-IR-Pool.html#t:Pool">Pool</a></code></code> that does not correspond to a
 valid pool definition or reference.</p></div><h1 id="g:6">Printing</h1><div class="doc"><p>Currently there is a rudimentary pretty-printer for the AST in the
 <a href="Language-Ninja-Pretty.html">Language.Ninja.Pretty</a> module. It simply returns <code><a href="file:///nix/store/psa1yq32l2ms0ssfdyzwkpnj73a0x37h-text-1.2.2.1/share/doc/x86_64-linux-ghc-8.0.2/text-1.2.2.1/html/Data-Text.html#t:Text">Text</a></code> such that if</p><pre>let pretty = Pretty.<code><a href="Language-Ninja-Pretty.html#v:prettyNinja">prettyNinja</a></code>
let parse  = Parser.<code><a href="Language-Ninja-Parser.html#v:parseTextIO">parseTextIO</a></code>
</pre><p>then <code>pretty &gt;=&gt; parse &gt;=&gt; pretty &gt;=&gt; parse</code> should be the same as <code>pure</code>,
 modulo read-only side effects.</p></div><h1 id="g:7">Conclusion</h1><div class="doc"><p>FIXME: doc</p></div><h1 id="g:8">FAQ</h1><div class="doc"><p>FIXME: doc</p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.3</p></div></body></html>